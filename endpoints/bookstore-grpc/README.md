# Google Cloud Endpoints Bookstore App in Python

## Installing Dependencies

You'll probably want to start by creating a virtual Python environment, so that
you can install dependencies without installing them globally.  To do this, run:

    mkdir bookstore-env
    virtualenv bookstore-env
    source bookstore-env/bin/activate

Install all the Python dependencies:

    pip install -r requirements.txt

Install the [GRPC libraries and tools](https://github.com/grpc/grpc/blob/release-0_15_0/INSTALL.md)

## Running the Server Locally

To run the server:

    python bookstore_server.py

The `-h` command line flag shows the various settings available.

## Running the Client Locally

To run the client:

    python bookstore_client.py

As with the server, the `-h` command line flag shows the various settings
available.

## Regenerating the API stubs

The bookstore GRPC API is defined by `bookstore.proto` (located in
examples/protos/bookstore directory of this repo). The API client stubs
and server interfaces are generated by tools.

To make it easier to get something up and running, we've included the generated
code in the sample distribution.  To modify the sample or create your own GRPC
API definition, you'll need to update the generated code.  To do this, once the
GRPC libraries and tools are installed, run:

    protoc --python_out=. --grpc_out=. --plugin=protoc-gen-grpc=`which grpc_python_plugin` \
        -I ../../proto/bookstore ../../proto/bookstore/bookstore.proto
